const e="k8XrW9L8Us9nRH4XHw7KlYH6s47A3uaV",t=document.getElementById("news-container"),a=document.getElementById("searchField"),o=document.getElementById("homeLink"),r=document.getElementById("newsLink"),s=document.getElementById("booksLink");async function n(a=""){try{let t=`https://api.nytimes.com/svc/topstories/v2/world.json?api-key=${e}`,o=await fetch(t);if(!o.ok)throw Error("Network response was not ok: "+o.statusText);let r=await o.json();c(r.results,a,"topStories")}catch(e){console.error("Error fetching data:",e),t.innerHTML="<p>Unable to fetch news. Please try again later.</p>"}}async function i(a=""){try{let t=`https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=${e}`,o=await fetch(t);if(!o.ok)throw Error("Network response was not ok: "+o.statusText);let r=await o.json();c(r.results,a,"mostPopular")}catch(e){console.error("Error fetching most popular data:",e),t.innerHTML="<p>Unable to fetch news. Please try again later.</p>"}}async function l(){try{var a;let o=`https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${e}`,r=await fetch(o);if(!r.ok)throw Error("Network response was not ok: "+r.statusText);let s=await r.json();s.results&&s.results.books.length>0?(a=s.results.books,t.innerHTML="",a.forEach(e=>{let a=document.createElement("div");a.classList.add("news-item");let o=e.book_image?`<img src="${e.book_image}" alt="${e.title}" class="news-image">`:"<p>No image available.</p>";a.innerHTML=`
            ${o}
            <h2>${e.title}</h2>
            <p>Author: ${e.author}</p>
            <p>Publisher: ${e.publisher}</p>
            <a href="${e.amazon_product_url}" target="_blank">Buy on Amazon</a>
        `,t.appendChild(a)})):t.innerHTML="<p>No books found.</p>"}catch(e){console.error("Error fetching books data:",e),t.innerHTML="<p>Unable to fetch books. Please try again later.</p>"}}function c(e,a,o){t.innerHTML="",e.filter(e=>{let t="topStories"===o&&e.multimedia&&e.multimedia.length>0||"mostPopular"===o&&e.media&&e.media.length>0,r=e.title.toLowerCase().includes(a.toLowerCase())||e.abstract.toLowerCase().includes(a.toLowerCase());return t&&r}).forEach(e=>{let a=document.createElement("div");a.classList.add("news-item");let r="";if("topStories"===o){let t=e.multimedia&&e.multimedia.length>0?e.multimedia[0]:null;r=t?`<img src="${t.url}" alt="${e.title}" class="news-image">`:'<img src="https://via.placeholder.com/300" alt="Placeholder Image" class="news-image">'}else if("mostPopular"===o){let t=e.media&&e.media.length>0?e.media[0]:null;r=t?`<img src="${t["media-metadata"][0].url}" alt="${e.title}" class="news-image">`:'<img src="https://via.placeholder.com/300" alt="Placeholder Image" class="news-image">'}a.innerHTML=`
            ${r}
            <h2>${e.title}</h2>
            <p>${e.abstract}</p>
            <a href="${e.url}" target="_blank">Read more</a>
        `,t.appendChild(a)})}a.addEventListener("input",e=>{n(e.target.value.trim())}),o.addEventListener("click",e=>{e.preventDefault(),n()}),r.addEventListener("click",e=>{e.preventDefault(),i()}),s.addEventListener("click",e=>{e.preventDefault(),l()}),n();
//# sourceMappingURL=index.529c43c6.js.map
