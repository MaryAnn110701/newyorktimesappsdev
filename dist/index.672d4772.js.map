{"mappings":"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","sources":["script.js"],"sourcesContent":["const apiKey = \"k8XrW9L8Us9nRH4XHw7KlYH6s47A3uaV\"; // Your API key\r\nconst newsContainer = document.getElementById(\"news-container\");\r\nconst searchField = document.getElementById(\"searchField\");\r\nconst homeLink = document.getElementById(\"homeLink\");\r\nconst newsLink = document.getElementById(\"newsLink\"); \r\nconst booksLink = document.getElementById(\"booksLink\");\r\n\r\nasync function fetchData(query = \"\") {\r\n    try {\r\n        const apiURL = `https://api.nytimes.com/svc/topstories/v2/world.json?api-key=${apiKey}`;\r\n        const response = await fetch(apiURL);\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(\"Network response was not ok: \" + response.statusText);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        displayArticles(data.results, query, 'topStories'); \r\n    } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n        newsContainer.innerHTML = \"<p>Unable to fetch news. Please try again later.</p>\";\r\n    }\r\n}\r\n\r\nasync function fetchMostPopularData(query = \"\") {\r\n    try {\r\n        const apiURL = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=${apiKey}`;\r\n        const response = await fetch(apiURL);\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(\"Network response was not ok: \" + response.statusText);\r\n        }\r\n\r\n        const data = await response.json();\r\n        displayArticles(data.results, query, 'mostPopular');\r\n    } catch (error) {\r\n        console.error(\"Error fetching most popular data:\", error);\r\n        newsContainer.innerHTML = \"<p>Unable to fetch news. Please try again later.</p>\";\r\n    }\r\n}\r\n\r\nasync function fetchBooks() {\r\n    try {\r\n        const apiURL = `https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${apiKey}`;\r\n        const response = await fetch(apiURL);\r\n        \r\n        if (!response.ok) {\r\n            throw new Error(\"Network response was not ok: \" + response.statusText);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.results && data.results.books.length > 0) {\r\n            displayBooks(data.results.books);\r\n        } else {\r\n            newsContainer.innerHTML = \"<p>No books found.</p>\";\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error fetching books data:\", error);\r\n        newsContainer.innerHTML = \"<p>Unable to fetch books. Please try again later.</p>\";\r\n    }\r\n}\r\n\r\nfunction displayArticles(articles, query, type) {\r\n    newsContainer.innerHTML = \"\"; \r\n\r\n    const filteredArticles = articles.filter(item => {\r\n        const hasImage = (type === 'topStories' && item.multimedia && item.multimedia.length > 0) ||\r\n                         (type === 'mostPopular' && item.media && item.media.length > 0); // Check for images based on type\r\n        const matchesQuery = item.title.toLowerCase().includes(query.toLowerCase()) || \r\n                             item.abstract.toLowerCase().includes(query.toLowerCase());\r\n        return hasImage && matchesQuery;\r\n    });\r\n\r\n    filteredArticles.forEach(item => {\r\n        const newsItem = document.createElement('div');\r\n        newsItem.classList.add('news-item');\r\n\r\n        let imageHTML = '';\r\n        if (type === 'topStories') {\r\n            const photo = item.multimedia && item.multimedia.length > 0 ? item.multimedia[0] : null;\r\n            imageHTML = photo ? `<img src=\"${photo.url}\" alt=\"${item.title}\" class=\"news-image\">` : '<img src=\"https://via.placeholder.com/300\" alt=\"Placeholder Image\" class=\"news-image\">';\r\n        } else if (type === 'mostPopular') {\r\n            const media = item.media && item.media.length > 0 ? item.media[0] : null;\r\n            imageHTML = media ? `<img src=\"${media['media-metadata'][0].url}\" alt=\"${item.title}\" class=\"news-image\">` : '<img src=\"https://via.placeholder.com/300\" alt=\"Placeholder Image\" class=\"news-image\">';\r\n        }\r\n\r\n        newsItem.innerHTML = `\r\n            ${imageHTML}\r\n            <h2>${item.title}</h2>\r\n            <p>${item.abstract}</p>\r\n            <a href=\"${item.url}\" target=\"_blank\">Read more</a>\r\n        `;\r\n        newsContainer.appendChild(newsItem);\r\n    });\r\n}\r\n\r\nfunction displayBooks(books) {\r\n    newsContainer.innerHTML = \"\"; \r\n\r\n    books.forEach(book => {\r\n        const bookItem = document.createElement('div');\r\n        bookItem.classList.add('news-item');\r\n\r\n        // Create an image element for the book cover\r\n        const imageHTML = book.book_image ? `<img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"news-image\">` : '<p>No image available.</p>';\r\n\r\n        bookItem.innerHTML = `\r\n            ${imageHTML}\r\n            <h2>${book.title}</h2>\r\n            <p>Author: ${book.author}</p>\r\n            <p>Publisher: ${book.publisher}</p>\r\n            <a href=\"${book.amazon_product_url}\" target=\"_blank\">Buy on Amazon</a>\r\n        `;\r\n        newsContainer.appendChild(bookItem);\r\n    });\r\n}\r\n\r\nsearchField.addEventListener(\"input\", (event) => {\r\n    const query = event.target.value.trim();\r\n    fetchData(query); \r\n});\r\n\r\nhomeLink.addEventListener(\"click\", (event) => {\r\n    event.preventDefault(); \r\n    fetchData(); \r\n});\r\n\r\nnewsLink.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    fetchMostPopularData(); \r\n});\r\n\r\nbooksLink.addEventListener(\"click\", (event) => {\r\n    event.preventDefault(); \r\n    fetchBooks(); \r\n});\r\n\r\n\r\nfetchData();\r\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}